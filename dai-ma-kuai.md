# 代码块

## 1. 基本介绍

代码块又称初始化块，属于类中的成员，类似于方法，将逻辑语句封装在方法体中，通过{}包围起来。

但和方法不同，没有方法名，没有返回值，没有参数，只有方法体，而且不用通过类或对象显式调用，而是加载类时，或创建对象时隐式调用。

## 2. 基本语法

\[修饰符] {

&#x20;   代码块

}

## 3. 说明注意

1. 修饰符可选，要写的话，也只能写static；&#x20;
2. 代码块分为两类，使用static修饰的叫做静态代码块，没有static修饰的，叫做普通代码块/非静态代码块；
3. ;号可以写上，也可以省略。

代码块的调用顺序优先于构造器，即先调用代码块的内容，再调用构造器的内容。

## 4. 注意事项和使用细节

1. static代码块也叫静态代码块，作用就是对类进行初始化，而且它随类的加载而执行，并且只会执行一次。如果是普通代码块，每创建一个对象，就执行；
2. 类什么时候被加载：
   1. 创建对象实例（new）；
   2. 创建子类对象实例，父类也会被加载；
   3. 使用类的静态成员时（静态属性，静态方法）；
3. 普通的代码块，在创建对象实例时，会被隐式的调用。被创建一次，就会被调用一次。如果只是使用类的静态成员，普通代码块并不会执行；
4. 创建一个对象时，在一个类调用顺序是：
   1. 调用静态代码块和静态属性初始化。注意⚠️：静态代码块和静态属性初始化调用的优先级一样，如果有多个静态代码块和多个静态属性初始化，则按他们定义的顺序调用；
   2. 调用普通代码块和普通属性的初始化。注意⚠️：优先级一样，按定义顺序调用；
   3. 调用构造方法。
5. 构造方法（构造器）的最前面其实隐含了super()和调用普通代码块；
6. 创建一个子类对象时，静态代码块，静态属性初始化，普通代码块，普通属性初始化，构造器的调用顺序如下：
   1. 父类的静态代码块和静态属性；
   2. 子类的静态代码块和静态属性；
   3. 父类的普通代码块和普通属性；
   4. 父类的构造器；
   5. 子类的普通代码块和普通属性；
   6. 子类的构造器。
7. 静态代码块只能直接调用静态成员，普通代码块可以调用任何成员（与静态方法和普通方法类似）。

